---
title: 'YACD'
weight: 50
toc: true
---

Yacd позволяет отследить соединения, которые направляются в прокси, информацию об использовании sing-box памяти, список используемых прокси и правил.
Не хранит историю, т.е при закрытии окна с Yacd она будет утеряна.

Как включить?

1. Заходим в настройки Podkop -> Дополнительные настройки (вторая вкладка)

2. Ставим галочку напротив пункта Включить Yacd (Yacd enable)

3. Сохраняем настройки Podkop
Save & Apply

4. Переходим по адресу http://openwrt.lan:9090/ui или по IP-адресу http://192.168.1.1:9090/ui в зависимости от того какой назначен роутеру. Здесь и далее используется `192.168.1.1`.

5.  В открывшемся окне в поле API Base URL мы вводим адрес нашего роутера и порт: 192.168.1.1:9090

Поле Secret можно оставить пустым, оно требуется при работе с Sing-box через Rest API и использования HTTP заголовка Authorization.

После чего нажимаем кнопку Add и кликаем по появившемуся в списке внизу адресу, который мы только что добавили.

## Узнаем ушел ли сайт в прокси

Выбрав, в открывшейся панели, раздел Conns и зайдя, в другой вкладке браузера,  на интересующую нас страницу, мы сможем увидеть ушли ли они в прокси.

Теперь при заходе по адресу 192.168.1.1:9090 мы будем попадать в панель Yacd. Но у меня это сохраняется до момента очистки данных страницы роутера, затем приходится вводить API Base URL повторно.

Ссылка на страницу с документации Sing-box:
https://sing-box.sagernet.org/configuration/experimental/clash-api/

## Ручное переключение прокси

Заходим в раздел Proxies в yacd.

![Yacd_Proxies](images/yacd-proxies.jpg)

Для того, чтобы при смене прокси автоматически закрывались действующие соединения, щелкаем по меню настроек **(1)** и переключаем ползунок **Automatically close old connections**.

![Yacd_Auto_Close_Connections](images/yacd-auto_close_connections.jpg)

В разделе **(2)** отображается действующая ссылка, выбранная с помощью `URLTest`.

Для ручного переключения нам нужно выбрать ссылку в разделе **(3)**. 

Чтобы вернуть автоматическое переключение ссылок, нужно выбрать в разделе **(3)** **main-urltest-out**.
